@{
    ViewBag.Title = "GoogleDesktopAlertsIntegration";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h2>Google Desktop Alerts Integration</h2>
<script src="@Url.Content("~/signalr/hubs")" type="text/javascript"></script>

<script type="text/javascript">
    $(function()
    {
        new notificationService().showNotification('testing');
    });

    var notificationService = function()
    {
        this.showNotification = function(message)
        {
            if (window.webkitNotifications.checkPermission() != 0)            {                alert(message);
                return 0;
            }
            
            n = window.webkitNotifications.createNotification(null /* icon */, 'Title', message);
            n.show();
        };
    };
</script>
